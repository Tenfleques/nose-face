{"version":3,"sources":["helpers/history.js","Components/privateRoute/index.js","Pages/FileUploader/dropzone/Dropzone.js","helpers/gh-helper.js","Controls/AutocompleteTextBox.js","helpers/parse-xml.js","Pages/FileUploader/upload/Upload.js","Components/navbar/index.js","Pages/FileUploader/index.js","Pages/Home/index.js","Pages/Auth/Login/index.js","App.js","serviceWorker.js","index.js"],"names":["history","createBrowserHistory","PrivateRoute","Component","component","rest","render","props","sessionStorage","getItem","to","pathname","state","from","location","Dropzone","highlight","fileInputRef","React","createRef","openFileDialog","bind","onFilesAdded","onDragOver","onDragLeave","onDrop","this","disabled","current","click","evt","files","target","array","fileListToArray","event","preventDefault","disabed","setState","dataTransfer","list","i","length","push","item","className","onClick","style","cursor","ref","type","accept","multiple","onChange","alt","src","GithubAPI","auth","repo","filesToCommit","currentBranch","newCommit","gh","GitHub","getCurrentTreeSHA","getCommit","commitSHA","then","commit","treeSHA","data","tree","sha","createFile","fileInfo","createBlob","content","blob","path","mode","createTree","updateHead","name","setRepo","userName","repoName","getRepo","setBranch","branchName","listBranches","branches","find","branch","createBranch","pushFiles","message","hasOwnProperty","getRef","object","filesInfo","promises","Promise","all","createFiles","createCommit","catch","e","console","error","AutoCompleteTextBox","autoComplete","htmlFor","caption","onInput","id","placeholder","help","parseXmlToJson","xml","recurseLevel","obj","Array","isArray","res","j","text","elements","contents","ob_tmp","attributes","sid","Number","parseFloat","initial","sort","a","b","time","map","value","replace","XmlJS","xml2js","Upload","uploading","uploadProgress","successfullUploaded","gh_api","catalog","authorized","user","uploadFiles","onPathChanged","renderActions","api","token","JSON","parse","Application","attempt_set_api","prevState","concat","ev","slice","fnam","toLowerCase","resolve","reject","fr","FileReader","onload","encoded_utf_8","Uint8Array","result","textDecode","TextDecoder","textEncoder","TextEncoder","json","stringify","ParseXmlToJson","decode","encode","join","addEventListener","lengthComputable","copy","percentage","loaded","total","readAsArrayBuffer","that","filenames","f","upload","updateLoaded","status","file_name","icon","faCheckCircle","faSpinner","file","show_f_name","key","renderProgress","NavBar","AppConfig","appname","UploadPage","Home","description","LoginPage","login","password","submitted","handleChange","handleSubmit","removeItem","setItem","onSubmit","faStop","renderLoginForm","App","exact","strict","Login","Boolean","window","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d1fe13f2.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n const PrivateRoute = ({ component: Component, ...rest }) =>{\r\n    return (\r\n        <Route {...rest} render={props => (\r\n            sessionStorage.getItem('user')\r\n                ? <Component {...props} />\r\n                : <Redirect to={{ pathname: '/nose-face/login', state: { from: props.location } }} />\r\n        )} />   \r\n    )\r\n}\r\nexport default PrivateRoute","import React, { Component } from \"react\";\r\nimport \"./Dropzone.css\";\r\n\r\nclass Dropzone extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { highlight: false };\r\n    this.fileInputRef = React.createRef();\r\n\r\n    this.openFileDialog = this.openFileDialog.bind(this);\r\n    this.onFilesAdded = this.onFilesAdded.bind(this);\r\n    this.onDragOver = this.onDragOver.bind(this);\r\n    this.onDragLeave = this.onDragLeave.bind(this);\r\n    this.onDrop = this.onDrop.bind(this);\r\n  }\r\n\r\n  openFileDialog() {\r\n    if (this.props.disabled) return;\r\n    this.fileInputRef.current.click();\r\n  }\r\n\r\n  onFilesAdded(evt) {\r\n    if (this.props.disabled) return;\r\n    const files = evt.target.files;\r\n    if (this.props.onFilesAdded) {\r\n      const array = this.fileListToArray(files);\r\n      this.props.onFilesAdded(array);\r\n    }\r\n  }\r\n\r\n  onDragOver(event) {\r\n    event.preventDefault();\r\n    if (this.props.disabed) return;\r\n    this.setState({ highlight: true });\r\n  }\r\n\r\n  onDragLeave(event) {\r\n    this.setState({ highlight: false });\r\n  }\r\n\r\n  onDrop(event) {\r\n    event.preventDefault();\r\n    if (this.props.disabed) return;\r\n    const files = event.dataTransfer.files;\r\n    if (this.props.onFilesAdded) {\r\n      const array = this.fileListToArray(files);\r\n      this.props.onFilesAdded(array);\r\n    }\r\n    this.setState({ highlight: false });\r\n  }\r\n\r\n  fileListToArray(list) {\r\n    const array = [];\r\n    for (var i = 0; i < list.length; i++) {\r\n      array.push(list.item(i));\r\n    }\r\n    return array;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`mx-auto Dropzone ${this.state.highlight ? \"Highlight\" : \"\"}`}\r\n        onDragOver={this.onDragOver}\r\n        onDragLeave={this.onDragLeave}\r\n        onDrop={this.onDrop}\r\n        onClick={this.openFileDialog}\r\n        style={{ cursor: this.props.disabled ? \"default\" : \"pointer\" }}\r\n      >\r\n        <input\r\n          ref={this.fileInputRef}\r\n          className=\"FileInput\"\r\n          type=\"file\"\r\n          accept=\".xml,.csv,.xls\"\r\n          multiple\r\n          onChange={this.onFilesAdded}\r\n        />\r\n        <img\r\n          alt=\"upload\"\r\n          className=\"Icon\"\r\n          src=\"baseline-cloud_upload-24px.svg\"\r\n        />\r\n        <span>Загрузить файлы</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dropzone;\r\n","import GitHub from 'github-api';\n\n//Uses the https://github.com/github-tools/github library under the hood and exposes it as `gh` property\nexport default function GithubAPI(auth) {\n    let repo;\n    let filesToCommit = [];\n    let currentBranch = {};\n    let newCommit = {};\n    \n    //the underlying library for making requests\n    let gh = new GitHub(auth);\n\n    /**\n     * Sets the current repository to make push to\n     * @public\n     * @param {string} userName Name of the user who owns the repository\n     * @param {string} repoName Name of the repository\n     * @return void\n     */\n    this.setRepo = function(userName, repoName) {\n        repo = gh.getRepo(userName, repoName);\n        return repo;\n    }\n\n    /**\n     * Sets the current branch to make push to. If the branch doesn't exist yet,\n     * it will be created first\n     * @public\n     * @param {string} branchName The name of the branch\n     * @return {Promise}\n     */\n    this.setBranch = function(branchName) {\n        if (!repo) {\n            throw 'Repository is not initialized';\n        }\n        \n\n        return repo.listBranches().then((branches) => {\n\n            let branchExists = branches.data.find( branch => branch.name === branchName );\n\n            if (!branchExists) {\n                return repo.createBranch('master', branchName)\n                    .then(() => {\n                        currentBranch.name = branchName;\n                    });\n            } else {\n                currentBranch.name = branchName;\n            }\n        });\n    }\n\n    /**\n     * Makes the push to the currently set branch\n     * @public\n     * @param  {string}   message Message of the commit\n     * @param  {object[]} files   Array of objects (with keys 'content' and 'path'),\n     *                            containing data to push\n     * @return {Promise}\n     */\n    this.pushFiles = function(message, files) {\n        if (!repo) {\n            throw 'Repository is not initialized';\n        }\n        \n        if (!currentBranch.hasOwnProperty('name')) {\n            throw 'Branch is not set';\n        }\n\n        return getCurrentCommitSHA()\n            .then(getCurrentTreeSHA)\n            .then( () => createFiles(files) )\n            .then(createTree)\n            .then( () => createCommit(message) )\n            .then(updateHead)\n            .catch((e) => {\n                console.error(e);\n            });\n    }\n\n    /**\n     * Sets the current commit's SHA\n     * @private\n     * @return {Promise}\n     */\n    function getCurrentCommitSHA() {\n        return repo.getRef('heads/' + currentBranch.name)\n            .then((ref) => {\n                currentBranch.commitSHA = ref.data.object.sha;\n            });\n    }\n\n    /**\n     * Sets the current commit tree's SHA\n     * @private\n     * @return {Promise}\n     */\n    function getCurrentTreeSHA() {\n        return repo.getCommit(currentBranch.commitSHA)\n            .then((commit) => {\n                currentBranch.treeSHA = commit.data.tree.sha;\n            });\n    }\n\n    /**\n     * Creates blobs for all passed files\n     * @private\n     * @param  {object[]} filesInfo Array of objects (with keys 'content' and 'path'),\n     *                              containing data to push\n     * @return {Promise}\n     */\n    function createFiles(filesInfo) {\n        let promises = [];\n        let length = filesInfo.length;\n\n        for (let i = 0; i < length; i++) {\n            promises.push(createFile(filesInfo[i]));\n        }\n\n        return Promise.all(promises);\n    }\n\n    /**\n     * Creates a blob for a single file\n     * @private\n     * @param  {object} fileInfo Array of objects (with keys 'content' and 'path'),\n     *                           containing data to push\n     * @return {Promise}\n     */\n    function createFile(fileInfo) {\n        return repo.createBlob(fileInfo.content)\n            .then((blob) => {\n                filesToCommit.push({\n                    sha: blob.data.sha,\n                    path: fileInfo.path,\n                    mode: '100644',\n                    type: 'blob'\n                });\n            });\n    }\n\n    /**\n     * Creates a new tree\n     * @private\n     * @return {Promise}\n     */\n    function createTree() {\n        return repo.createTree(filesToCommit, currentBranch.treeSHA)\n            .then((tree) => {\n                newCommit.treeSHA = tree.data.sha;\n            });\n    }\n\n    /**\n     * Creates a new commit\n     * @private\n     * @param  {string} message A message for the commit\n     * @return {Promise}\n     */\n    function createCommit(message) {\n        return repo.commit(currentBranch.commitSHA, newCommit.treeSHA, message)\n            .then((commit) => {\n                newCommit.sha = commit.data.sha;\n            });\n    }\n\n    /**\n     * Updates the pointer of the current branch to point the newly created commit\n     * @private\n     * @return {Promise}\n     */\n    function updateHead() {\n        return repo.updateHead('heads/' + currentBranch.name, newCommit.sha);\n    }\n};","import React, { Component } from 'react';\n\nclass AutoCompleteTextBox extends Component {\n    constructor(props) {\n        super(props);\n        this.autoComplete = this.autoComplete.bind(this)\n    }\n    \n    autoComplete(e){\n        \n    }\n    render () {\n        return (\n            <div className={this.props.className}>\n                <label htmlFor={this.props.name}>{this.props.caption}</label>\n                <input \n                    type = \"text\"\n                    className=\"form-control\" \n                    onInput={this.autoComplete}\n                    onChange={this.props.onChange}\n                    id={this.props.name}\n                    name={this.props.name}\n                    placeholder={this.props.placeholder}                \n                    />\n                <span className=\"muted small\">\n                    {this.props.help}\n                </span>\n            </div>\n        );\n    }        \n}\nexport default AutoCompleteTextBox\n  \n  ","import XmlJS from \"xml-js\"\n\nfunction recurseLevel(obj){\n\n    if (Array.isArray(obj)){\n        let res = [];\n        for (let j = 0;  j < obj.length; ++j){\n            res.push(recurseLevel(obj[j]));\n        }\n        return res;\n    }\n\n    if(obj.type === \"text\"){\n        return obj.text;\n    }\n\n    if(obj.elements){\n        if(obj.elements.length === 1){\n            return recurseLevel(obj.elements[0]);\n        }else{\n            let contents = {};\n            for (let i in obj.elements){\n                if(obj.elements[i].name === \"sensor\"){\n                    if(!contents[\"sensors\"]){\n                        contents[\"sensors\"] = [];\n                    }\n                    let ob_tmp = {\n                        \"sid\" : obj.elements[i].attributes.sid,\n                        \"initial\" : Number.parseFloat(obj.elements[i].attributes.initial)\n                    }\n                    ob_tmp[\"readings\"] = obj.elements[i].elements.sort((a, b) =>{\n                            return a.attributes.time - b.attributes.time;\n                        }).map((a) => {\n                            return Number.parseFloat(a.attributes.value.replace(\",\",\".\"))\n                        }) ;\n\n                    contents[\"sensors\"].push(ob_tmp)\n                }else{\n                    contents[obj.elements[i].name] = recurseLevel(obj.elements[i]);\n                }                    \n            }\n            if(obj.name){\n                let ob_tmp = {};\n                ob_tmp[obj.name] = contents;\n                return ob_tmp;\n            }else{\n                return contents;\n            }                \n        }        \n    }\n    return \"\";\n}\nconst parseXmlToJson = (xml) => {\n    let obj = recurseLevel(XmlJS.xml2js(xml));\n    return obj;\n}\n\nexport default parseXmlToJson;","import React, { Component } from \"react\";\r\nimport Dropzone from \"../dropzone/Dropzone\";\r\nimport \"./Upload.css\";\r\nimport GithubAPI from \"../../../helpers/gh-helper\"\r\nimport Application from \"../../../Configs/package\"\r\nimport AutoCompleteTextBox from \"../../../Controls/AutocompleteTextBox\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSpinner, faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport ParseXmlToJson from \"../../../helpers/parse-xml\"\r\n\r\nclass Upload extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      files: [],\r\n      uploading: false,\r\n      uploadProgress: {},\r\n      successfullUploaded: false,\r\n      gh_api : {},\r\n      catalog: \"\",\r\n      authorized: false,\r\n      user: {}\r\n    };\r\n\r\n    this.onFilesAdded = this.onFilesAdded.bind(this);\r\n    this.uploadFiles = this.uploadFiles.bind(this);\r\n    this.onPathChanged = this.onPathChanged.bind(this);\r\n    this.renderActions = this.renderActions.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    let user = sessionStorage.getItem(\"user\");\r\n    if(user){\r\n      user = JSON.parse(user);\r\n\r\n      const api = new GithubAPI({\r\n        token: user.token\r\n      })  \r\n      api.setRepo(Application.user, Application.repo);\r\n\r\n      let attempt_set_api = api.setBranch(Application.branch);\r\n\r\n      attempt_set_api.then(() => {\r\n          this.setState({ authorized: true, user : user, gh_api: api });\r\n      })\r\n\r\n      attempt_set_api.catch((e) => {\r\n        this.setState({ authorized: false, user : user });\r\n      })\r\n    }\r\n  \r\n  }\r\n  onFilesAdded(files) {\r\n    this.setState(prevState => ({\r\n      files: prevState.files.concat(files)\r\n    }));\r\n  }\r\n\r\n  onPathChanged(ev) {\r\n    let path = ev.target.value;\r\n\r\n    if(path[path.length - 1] !== \"/\"){\r\n      path += \"/\"\r\n    }\r\n    if(path[0] === \"/\"){\r\n      path = path.slice(1);\r\n    }\r\n\r\n    this.setState({catalog: path});\r\n  }\r\n  async uploadFiles() {\r\n    this.setState({ uploadProgress: {}, uploading: true });\r\n    let api = this.state.gh_api\r\n    const promises = [];\r\n    \r\n\r\n    for(let i = 0; i < this.state.files.length; ++i){\r\n\r\n      let fnam = this.state.files[i].name.toLowerCase().replace(\".xml\",\".uint\");\r\n\r\n      promises.push(new Promise((resolve, reject) => {\r\n        var fr = new FileReader();  \r\n        fr.onload = () => {\r\n          let encoded_utf_8 =  new Uint8Array(fr.result);\r\n          let textDecode = new TextDecoder();\r\n          let textEncoder = new TextEncoder();\r\n\r\n          let json = JSON.stringify(ParseXmlToJson(textDecode.decode(encoded_utf_8)))\r\n\r\n          resolve({ name: fnam, path: Application.path + this.state.catalog + fnam, content: textEncoder.encode(json).join(\",\") } )\r\n        };\r\n\r\n        fr.addEventListener('progress', (event)=>{\r\n          if (event.lengthComputable) {\r\n            const copy = { ...this.state.uploadProgress };\r\n            copy[fnam] = {\r\n              state: \"pending\",\r\n              percentage: (event.loaded / event.total) \r\n              * 100\r\n            };\r\n            this.setState({ uploadProgress: copy });\r\n          }\r\n        });\r\n\r\n        fr.readAsArrayBuffer(this.state.files[i]);\r\n\r\n      }));\r\n    }\r\n\r\n    try {\r\n      let that = this;\r\n      Promise.all(promises).then(function(files){\r\n        let filenames = files.map(f => f.name);\r\n        \r\n        let upload = api.pushFiles(\"file uploads: \" + filenames.join(\", \"), files);        \r\n\r\n        let updateLoaded = (f) => {\r\n          const copy = { ...that.state.uploadProgress };\r\n          copy[f] = { state: \"done\", percentage: 100 };\r\n          that.setState({ uploadProgress: copy });           \r\n        }\r\n\r\n        upload.then((res) => {\r\n          if(res){\r\n            if(res.status === 200){\r\n                for (var i = 0; i < filenames.length; ++i){\r\n                  updateLoaded(filenames[i])\r\n                }\r\n              }\r\n          }          \r\n        })\r\n        upload.catch((e) => {\r\n          for (var i = 0; i < filenames.length; ++i){\r\n            const copy = { ...that.state.uploadProgress };\r\n            copy[filenames[i]] = { state: \"fail\", percentage: 100 };\r\n            that.setState({\r\n              successfullUploaded : false,\r\n              uploadProgress: copy\r\n            })\r\n          }\r\n        })\r\n      });\r\n      \r\n\r\n      this.setState({ successfullUploaded: true, uploading: false });\r\n    } catch (e) {\r\n      this.setState({ successfullUploaded: true, uploading: false });\r\n    }\r\n  }\r\n\r\n  renderProgress(file_name) {\r\n    const uploadProgress = this.state.uploadProgress[file_name];\r\n    if (this.state.uploading || this.state.successfullUploaded) {\r\n      return (\r\n        <span className=\"d-inline pl-3\">\r\n            <FontAwesomeIcon icon={faCheckCircle} className={uploadProgress && uploadProgress.state === \"done\"?\r\n            \"text-secondary\" : \"d-none\" } />\r\n             <FontAwesomeIcon icon={faSpinner} className={uploadProgress && uploadProgress.state === \"done\"?\r\n          \"d-none\" : \"text-warning fa-spin\"} />                   \r\n        </span>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderActions() {\r\n    if (this.state.successfullUploaded) {\r\n      return (\r\n        <button\r\n          onClick={() =>\r\n            this.setState({ files: [], successfullUploaded: false })\r\n          }\r\n        >\r\n          Очистить\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button\r\n          disabled={this.state.files.length < 0 || this.state.uploading}\r\n          onClick={this.uploadFiles}\r\n          className=\"px-5\"\r\n        >\r\n          Загрузить\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.authorized){  \r\n      return (\r\n        <div className=\"container-fluid\">\r\n          <div className=\"col-12\">\r\n            <span className=\"Title py-3\">Загрузка файлов</span>\r\n            <div className=\"row pt-3\">\r\n              <AutoCompleteTextBox \r\n                name=\"auto-complete-catalogs\" \r\n                caption=\"каталог файлов\" \r\n                className=\"col-12 px-0 border-bottom form-group text-left py-3 mb-3\" \r\n                help=\"Определить в какую группу отправить файлы. e.g. vsuet/vosdux\" \r\n                placeholder=\"\" \r\n                onChange={this.onPathChanged}\r\n                />\r\n              <div className=\"col-12 col-md-8 col-lg-6\"> \r\n                <Dropzone\r\n                  onFilesAdded={this.onFilesAdded}\r\n                  disabled={this.state.uploading || this.state.successfullUploaded}\r\n                />\r\n                <div className=\"col-12 text-center py-3\">{this.renderActions()}</div>\r\n              </div>\r\n              <div className=\"col-12 col-md-4 col-lg-6\">\r\n                <div className=\"row text-left\">\r\n                  {this.state.files.map(file => {\r\n                    let show_f_name = file.name.toLowerCase().replace(\".xml\",\".uint\")\r\n                    return (\r\n                      <div key={show_f_name} className=\"col-12 col-lg-6\">\r\n                        <span className=\"\">{show_f_name}</span>\r\n                        {this.renderProgress(show_f_name)}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>            \r\n              </div>\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return \"загрузка ....\";\r\n  }\r\n}\r\n\r\nexport default Upload;\r\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport AppConfig from \"../../Configs/package\";\n\nconst NavBar = (props) => {\n  return (\n    <nav className={\"navbar navbar-dark bg-primary fixed-top \" + props.className} >\n      <Link className=\"nav-item text-white no-underline\" to=\"/nose-face\">\n        {AppConfig.appname}\n      </Link>\n      {/* <Link className=\"nav-item text-white\" to=\"/models\">\n        Модели\n      </Link>\n      <Link className=\"nav-item text-white\" to=\"/noses\">\n        Электроные носы\n      </Link> */}\n      <Link className=\"nav-item text-white no-underline\" to=\"/nose-face/upload\">\n        Загрузка файлов носа\n      </Link>\n    </nav>\n  );\n}\n\nexport default NavBar;","import React, { Component } from \"react\";\nimport \"./index.css\";\nimport Upload from \"./upload/Upload\";\nimport NavBar from \"../../Components/navbar\";\n\nclass UploadPage extends Component {\n  render() {\n    return (\n      <div className=\"\">\n        <NavBar className=\"mb-5\" /> \n        <div className=\"Page\">\n          <div className=\"card mt-3 mt-md-4 p-3 col-10 col-md-9 col-lg-8 col-xl-7\">\n            <Upload />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UploadPage;\n","import React from 'react';\nimport NavBar from \"../../Components/navbar\";\nimport AppConfig from \"../../Configs/package\"\n\n\nexport default function Home() {\n    return (\n        <div className=\"\">\n            <NavBar className=\"mb-5\" />            \n            <div className=\"container-fluid mt-5\">\n                <div className=\"col-12 h3\">\n                    Добро пожаловать на платформе {AppConfig.appname} \n                </div>\n                <div className=\"col-12\">{AppConfig.description} \n                </div>\n            </div>\n        </div>      \n    );\n  }\n  ","import React from 'react';\nimport { Redirect } from 'react-router-dom'\nimport GithubAPI from \"../../../helpers/gh-helper\"\nimport Application from \"../../../Configs/package\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSpinner, faStop} from '@fortawesome/free-solid-svg-icons'\n\nclass LoginPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            login: '',\n            password: '',\n            submitted: false,\n            user : {},\n            error: false\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    componentDidMount(){\n        sessionStorage.removeItem('user');\n    }\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({ [name]: value, submitted: false });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        const { login, password } = this.state;\n        this.setState({submitted: true})\n        let user = {\n            \"name\" : login,\n            \"token\" : password\n        }\n        const api = new GithubAPI({\n            token: user.token\n        });\n\n        api.setRepo(Application.user, Application.repo);\n\n        let attempt_set_api = api.setBranch(Application.branch);\n\n        attempt_set_api.then(() => {\n            sessionStorage.setItem(\"user\", JSON.stringify(user));\n            this.setState({ submitted: true, user : user });\n        })\n\n        attempt_set_api.catch((e) => {\n            this.setState({error: true})\n        })\n    }\n\n    renderLoginForm() {\n        const { login, password, submitted, error } = this.state;\n        return (\n            <div className=\"container p-5\">\n                <form className=\"row mt-5 p-md-5 bg-primary text-white max-w-600px mx-auto\" onSubmit={this.handleSubmit}>\n                    <div className={error ? \"col-12 text-danger\": \"invisible col-12\"}>\n                        Пользователь не аутентифицирован\n                    </div>\n                    <div className='form-group col-12'>\n                        <label htmlFor=\"login\">логин</label>\n                        <input\n                            type=\"text\"\n                            name=\"login\"\n                            value={login}\n                            className={\"form-control col-12 mb-3\" + (submitted && !login ? ' border-danger' : '')}\n                            onChange={this.handleChange}\n                        />\n                        {submitted && !login &&\n                            <div className=\"text-danger\">обязателная поля</div>\n                        }\n                    </div>\n                    <div className='form-group col-12'>\n                        <label htmlFor=\"password\">пароль</label>\n                        <input\n                            type=\"password\"\n                            name=\"password\"\n                            value={password}\n                            className={\"form-control col-12 mb-3\" + (submitted && !password ? ' border-danger' : '')}\n                            onChange={this.handleChange}\n                        />\n                        {submitted && !password &&\n                            <div className=\"text-danger\">обязателная поля</div>\n                        }\n                    </div>\n                    <div className=\"form-group col-12\">\n                        <button \n                            type=\"submit\"\n                            className=\"form-control col-12 mb-3\"\n                        >\n                            Войти &nbsp;\n                            {\n                                submitted ?\n                                <FontAwesomeIcon icon={faStop} className={error?\n                                \"text-danger d-none\" : \"d-none\"} /> : \"\"\n                            }\n                            {\n                                submitted ?\n                                <FontAwesomeIcon icon={faSpinner} className={error?\n                                    \"d-none\" : \"text-success\"} /> : \"\"\n                            }\n                                \n                        </button>\n                        \n                    </div>\n                </form>\n            </div>\n        );\n    }\n\n    render() {\n        return this.state.user.token\n            ? <Redirect to={{ pathname: '/nose-face/', state: { from: \"/nose-face/login\" } }} />\n            : this.renderLoginForm();\n    }\n}\n\nexport default LoginPage","import React, { Component } from 'react';\nimport { Router, Route } from 'react-router-dom';\nimport { history } from './helpers/history';\nimport PrivateRoute from \"./Components/privateRoute\"\n\n\nimport UploadPage from \"./Pages/FileUploader\";\nimport Home from \"./Pages/Home\";\nimport Login from \"./Pages/Auth/Login\";\n\nimport './Css/bootstrap.css';\nimport './Css/App.css';\n\n\n\nclass App extends Component {\n  render() {\n    return (\n      <Router history={history}>     \n          <Route exact strict path=\"/nose-face/login\" component={Login} />\n          <Route exact strict path=\"/nose-face/login/\" component={Login} />\n          <PrivateRoute exact path=\"/nose-face/\" component={Home} />\n          <PrivateRoute exact strict  path=\"/\" component={Home} />\n          <PrivateRoute exact strict path=\"/nose-face/upload\" component={UploadPage} />\n          <PrivateRoute exact strict path=\"/upload\" component={UploadPage} />\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Css/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}